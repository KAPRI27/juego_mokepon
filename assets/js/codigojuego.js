let ataqueJugador
let ataqueEnemigo
let vidasJugador = 3
let vidasEnemigo = 3



//FUNCI√ìN PARA INICIAR EL JUEGO
function iniciarJuego(){

    //ESCONDER SECCI√ìN "ATAQUE" MIENTRAS NO SE ELIJA LA MASCOTA
    let seccionSeleccionarAtaque = document.getElementById("seleccionar_ataque")
    seccionSeleccionarAtaque.style.display = "none"
    
    //ESCONDER SECCI√ìN "ATAQUE" MIENTRAS NO SE ELIJA LA MASCOTA
    const resultadoFinal = document.getElementById("seccion_mensaje_final")
    resultadoFinal.style.display = "none"

    //ESCONDER SECCI√ìN "DETALLE BATALLAS" MIENTRAS NO COMIENCE BATALLA
    const seccionDetallesBatallas = document.getElementById("seccion_mensajes")
    seccionDetallesBatallas.style.display = "none"

    //ESCONDE BOT√ìN "REINICIAR" MIENTRAS NO TERMINE EL JUEGO
    const botonReiniciarJuego = document.getElementById("seccion_reiniciar")
    botonReiniciarJuego.style.display = "none"
    

    //SE CREN EL EVENTO 'CLICK' PARA SELECCIONAR MASCOTA
    const botonMascotaJugador = document.getElementById("boton_mascota")
    botonMascotaJugador.addEventListener("click", seleccionarMascotaJugador, seleccionarMascotaEnemigo)

    //BOTONES EVENTO 'CLICK' PARA SELECCIONAR ATAQUE JUGADOR

    const botonFuego = document.getElementById('boton_fuego')
    botonFuego.addEventListener('click', ataqueFuego)

    const botonAgua = document.getElementById('boton_agua')
    botonAgua.addEventListener('click', ataqueAgua)

    const botonTierra = document.getElementById('boton_tierra')
    botonTierra.addEventListener('click', ataqueTierra)
   
    const botonReiniciar = document.getElementById("boton_reiniciar")
    botonReiniciar.addEventListener("click", reiniciarJuego)

    console.log("funcion_iniciar_juego_funcionando")
}

//SELECCIONA UNA MASCOTA
function seleccionarMascotaJugador (){

    //ESCONDER SECCI√ìN "MASCOTAS" MIENTRAS NO SE ELIJA LA MASCOTA
    const seccionSeleccionarMascota = document.getElementById("seleccionar_mascota")
    seccionSeleccionarMascota.style.display = "none"


    //APARECER SECCI√ìN "ATAQUE" MIENTRAS NO SE ELIJA LA MASCOTA
    let seccionSeleccionarAtaque = document.getElementById("seleccionar_ataque")
    seccionSeleccionarAtaque.style.display = "flex"

    
    //INPUT DE LAS MASCOTAS
    let inputHipodogue = document.getElementById('hipodogue')
    let inputCapipepo = document.getElementById('capipepo')
    let inputRatig√ºeya = document.getElementById('ratig√ºeya')
    // let inputLangostarol = document.getElementById('langostarol')
    // let inputAguirrope = document.getElementById('aguirrope')
    // let inputPandarol = document.getElementById('pandarol')
    
    //TEXTO DE LA MASCOTA QUE ELEGISTE
    if (inputHipodogue.checked){
            spanMascotaJugador.innerHTML = 'HIPODOGUE '
            console.log("Elegiste a Hipodogue üê∂")
        } else if (inputCapipepo.checked){
            spanMascotaJugador.innerHTML = 'CAPIPEPO '
            console.log("Elegiste a Capipepo üêê")
        } else if (inputRatig√ºeya.checked){
            spanMascotaJugador.innerHTML = 'RATIG√úEYA '
            console.log("Elegiste a Ratig√ºeya üêÄ")
        } else if (inputLangostarol.checked){
            spanMascotaJugador.innerHTML = 'LANGOSTAROL '
            console.log("Elegiste a Langostarol ü¶û")
        } else if (inputAguirrope.checked){
            spanMascotaJugador.innerHTML = 'AGUIRROPE '
            console.log("Elegiste a Aguirrope ü¶¶")
        } else if (inputPandarol.checked){
            spanMascotaJugador.innerHTML = 'PANDAROL '
            console.log("Elegiste a Pandarol üêº")
        } else {
            alert('ELIGE UNA MASCOTA')
            console.log("ELIGE UNA MASCOTA" )
    }

    console.log("funcion_seleccionar_mascota_funcionando")

    //SELECCIONA MASCOTA ENEMIGO
    seleccionarMascotaEnemigo(1,6)
    
}

//MASCOTA DEL ENEMIGO (ALEATORIO)
function seleccionarMascotaEnemigo(min, max){
    let mascotaAleatoria = aleatorio(1,6)

    if(mascotaAleatoria == 1){
            //hipodogue
            spanMascotaEnemigo.innerHTML = ' HIPODOGUE '
            console.log("Luchar√°s contra Hipodogue üê∂")
        } else if (mascotaAleatoria == 2){
            //capipepo
            spanMascotaEnemigo.innerHTML = ' CAPIPEPO '
            console.log("Luchar√°s contra Capipepo üêê")
        } else if (mascotaAleatoria == 3){
            //ratig√ºeya
            spanMascotaEnemigo.innerHTML = ' RATIG√úEYA '
            console.log("Luchar√°s contra Ratig√ºeya üêÄ")
        
        } else if (mascotaAleatoria == 4){
            //langostarol
            spanMascotaEnemigo.innerHTML = ' LANGOSTAROL '
            console.log("Luchar√°s contra Langostarol ü¶û")
        } else if (mascotaAleatoria == 5){
            //aguirrope
            spanMascotaEnemigo.innerHTML = ' AGUIRROPE '
            console.log("Luchar√°s contra Aguirrope üê¶")
        } else {
            //pandarol
            spanMascotaEnemigo.innerHTML = ' PANDAROL '
            console.log("Luchar√°s contra Pandarol üêº")
    }
    console.log("funcion_seleccionar_mascota_enemigo_funcionando")
}

//ATAQUES
//FUNCI√ìN ATAQUE DE FUEGO
function ataqueFuego(){
    ataqueJugador = 'FUEGO üî•'
    ataqueAleatorioEnemigo()
    console.log(ataqueJugador)
    console.log(ataqueEnemigo)
    console.log("funcion_fuego_perfecta")

}

//FUNCI√ìN ATAQUE DE AGUA
function ataqueAgua(){
    ataqueJugador = 'AGUA üíß'
    ataqueAleatorioEnemigo()
    console.log(ataqueJugador)
    console.log(ataqueEnemigo)
    console.log("funcion_agua_perfecta")
}

//FUNCI√ìN ATAQUE DE TIERRA
function ataqueTierra(){
    ataqueJugador = 'TIERRA üå±'
    ataqueAleatorioEnemigo()
    console.log(ataqueJugador)
    console.log(ataqueEnemigo)
    console.log("funcion_tierra_perfecta")
}

//FUNCI√ìN ATAQUE ALEATORIO DEL ENEMIGO
function ataqueAleatorioEnemigo(){
    
    let ataqueAleatorio = aleatorio(1,3)
    
    if(ataqueAleatorio == 1){
        ataqueEnemigo = 'FUEGO üî•'
        } else if (ataqueAleatorio == 2){
            ataqueEnemigo = 'AGUA üíß'
        } else if (ataqueAleatorio == 3){
            ataqueEnemigo = 'TIERRA üå±'
        }
        else {
        ataqueEnemigo = 'SE PRODUJO UN ERROR'
    }
    
    console.log("funcion_ataque_aleatorio_funcionando")

    combate()
    console.log("funcion_ataque_aleatorio_llam√≥_funci√≥n_combate")  
   
}

function combate(){
    //1 Fuego  FUEGO VENCE TIERRA   //2 Agua  AGUA VENCE FUEGO   //3 Tierra  TIERRA VENCE AGUA
    const seccionDetallesBatallas = document.getElementById("seccion_mensajes")
    seccionDetallesBatallas.style.display = "flex"
    
    //POSIBLES RESULTADOS
    if ( ataqueJugador == ataqueEnemigo){
        //console.log("EMPATE ü§ù")
        crearMensaje("EMPATE ü§úü§õ")
        } else if (ataqueJugador == 'FUEGO üî•' && ataqueEnemigo == 'TIERRA üå±'){
            //console.log("GANASTE üèÜüòé")
            crearMensaje("GANASTE üèÜüòé")   
            vidasEnemigo--
            total_vidas_enemigo.innerHTML = vidasEnemigo     
        } else if (ataqueJugador == 'AGUA üíß' && ataqueEnemigo == 'FUEGO üî•'){
            //console.log("GANASTE üèÜüòé")
            crearMensaje("GANASTE üèÜüòé")
            vidasEnemigo--
            total_vidas_enemigo.innerHTML = vidasEnemigo
        } else if (ataqueJugador == 'TIERRA üå±' && ataqueEnemigo == 'AGUA üíß'){
            //console.log("GANASTE üèÜüòé")
            crearMensaje("GANASTE üèÜüòé")
            vidasEnemigo--
            total_vidas_enemigo.innerHTML = vidasEnemigo
        } else {
            //console.log("PERDISTE üíîüò¢")
            crearMensaje("PERDISTE üíîüò¢")
            vidasJugador--
            total_vidas_jugador.innerHTML = vidasJugador
    }
    
    console.log("funci√≥n_combate_funcionando_bien")

    console.log("funcion_combate_llamando_funci√≥n_revisarVidas")
    //REVISAR LAS VIDAS
    revisarVidas()
}

function revisarVidas(){
    if(vidasEnemigo == 0){
        crearMensajeFinal("VENCISTE ü•≥üéâüéä EL ENEMIGO SE QUED√ì SIN VIDAS")
    } else if (vidasJugador == 0){
        crearMensajeFinal("FUISTE DERROTADO ü•∫ TE HAS QUEDADO SIN VIDAS")
    }

    console.log("funcion_revisar_vidas_funcionando")
}

//MENSAJE RESULTADO BATALLA INDIVIDUAL
function crearMensaje(resultado){

    const ataquesDelJugador = document.getElementById("ataque_jugador")
    const ataquesDelEnemigo = document.getElementById("ataque_enemigo")
    const seccionMensajes = document.getElementById("resultado_combate")
    
    seccionMensajes.innerHTML = resultado
    let nuevoAtaqueDelJugador = document.createElement('p')
    let nuevoAtaqueDelEnemigo = document.createElement('p')

    
    nuevoAtaqueDelJugador.innerHTML = ataqueJugador
    nuevoAtaqueDelEnemigo.innerHTML = ataqueEnemigo

    ataquesDelJugador.appendChild(nuevoAtaqueDelJugador)
    ataquesDelEnemigo.appendChild(nuevoAtaqueDelEnemigo)

    //estas son dos constantes QUE NO ESTABAN AQU√ç A VER SI AHORA S√≠ MUESTRA LAS VIDAS
    let spanVidasJugador = document.getElementById("total_vidas_jugador") 
    let spanVidasEnemigo = document.getElementById("total_vidas_enemigo") 

    console.log("funcion_crear_mensaje_trabajando_bien")
}


//MENSAJE RESULTADO DE TODAS LAS BATALLA
function crearMensajeFinal(resultadoFinal){   

    let seccionMensajes = document.getElementById("seccion_mensaje_final")
    
    let parrafo = document.createElement("h3")
    parrafo.innerHTML = resultadoFinal    
    //alert(resultadoFinal + " REINICIA EL JUEGO üòâ")
    seccionMensajes.appendChild(parrafo)

    //DESABILITAR BOTONES DE ATAQUES AL TERMINARSE LAS VIDAS 
    const botonFuego = document.getElementById('boton_fuego')
        botonFuego.disabled = true
    const botonAgua = document.getElementById('boton_agua')
        botonAgua.disabled = true
    const botonTierra = document.getElementById('boton_tierra')
        botonTierra.disabled = true
    
    
    //PARA MOSTRAR SECCION REINICIAR AL TERMINARSE LAS VIDAS
    let seccionReiniciar = document.getElementById('seccion_reiniciar')
    seccionReiniciar.style.display = "flex"
    let resultadoFinalCombate = document.getElementById("seccion_mensaje_final")
    resultadoFinalCombate.style.display = "flex"

    console.log("funcion_crear_mensaje_final_funcionando_perfecto")
}


//BOT√ìN REINICIAR JUEGO
function reiniciarJuego(){
    //location.reload()
    location.reload(true);

    console.log("funcion_reiniciar_juego_Funcionando")
}

//FUNCI√ìN ALEATORIO (ELIGE MASCOTA Y ATAQUE ENEMIGO)
function aleatorio(min, max){
    return Math.floor(Math.random() * (max - min + 1) + min)
}
//Esta l√≠nea le manda esperar a que cargue toda la p√°gina web para ejecutar la l√≥gica JS
window.addEventListener("load", iniciarJuego) 


